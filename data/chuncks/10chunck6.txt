Length indicates the number of copied bytes ENOT OK No SDU data has been copied Pdu InfoPtr must not be used since it may contain a NULL pointer or point to invalid data Description Within this API the upper layer module called module shall check whether the available data fits into the buffer size reported by Pdu InfoPtrSdu Length If it fits it shall copy its data into the buffer provided by Pdu InfoPtrSdu Data Ptr and update the length of the actual copied data in Pdu InfoPtrSdu Length If not it returns E NOT OK without changing Pdu InfoPtr Available via Some IpTph SWS SomeIpTp 00072 If development error detection is enabled SomeIpTp TriggerTransmit shall check that the service SomeIpTpInit was previously cal led If the check fails SomeIpTpTriggerTransmit shall raise the development error SOMEIPTPEUNINIT Specification on SOMEIP Transport Protocol AUTOSAR CP R2011 41 of 59 Document ID 809AUTOSARSWSSOMEIPTransportProtocol SWS SomeIpTp 00055 In case the given PduInfoPtr SduLength is smalle r than the computed size of the SOMEIP TP segment considering header and payload SomeIpTpTriggerTransmit shall not copy any data and return ENOTOK 842 SomeIpTpRxIndication SWSSomeIpTp00056 Service Name Some IpTpRxIndication Syntax void SomeIpTpRxIndication PduIdType RxPduId const PduInfoType PduInfoPtr Service ID hex 0x42 Sync Async Synchronous Reentrancy Reentrant for different Pdu Ids Non reentrant for the same Pdu Id Parameters in RxPdu Id ID of the received PDU Pdu InfoPtr Contains the length Sdu Length of the received PDU a pointer to a buffer Sdu DataPtr containing the PDU and the Meta Data related to this PDU Parameters inout None Parameters out None Return value None Description Indication of a received PDU from a lower layer communication interface module Available via Some IpTph SWS SomeIpTp 00057 If development error detection is enabled SomeIpTp RxIndication shall check that the service SomeIpTpInit was previously cal led If the check fails SomeIpTp RxIndication shall raise the development error SOMEIPTPEUNINIT Specification on SOMEIP Transport Protocol AUTOSAR CP R2011 42 of 59 Document ID 809AUTOSARSWSSOMEIPTransportProtocol 843 SomeIpTpTxConfirmation SWSSomeIpTp91001 Service Name Some IpTpTxConfirmation Syntax void SomeIpTpTxConfirmation PduIdType TxPduId StdReturnType result Service ID hex 0x40 Sync Async Synchronous Reentrancy Reentrant for different Pdu Ids Non reentrant for the same Pdu Id Parameters in TxPduId ID of th e PDU that has been transmitted result EOK The PDU was transmitted E NOT OK Transmission of the PDU failed Parameters inout None Parameters out None Return value None Description The lower layer communication interface module confirms the transmission of a PDU or the failure to transmit a PDU Available via Some IpTph SWS SomeIpTp 00067 If development error detection is enabled SomeIpTp TxConfirmation shall check that the service SomeIpTpInit was previously cal led If the check fails SomeIpTp TxConfirmation shall raise the development error SOMEIPTPEUNINIT Specification on SOMEIP Transport Protocol AUTOSAR CP R2011 43 of 59 Document ID 809AUTOSARSWSSOMEIPTransportProtocol 85 Scheduled functions 851 SomeIpTp MainFunction Tx SWSSomeIpTp00058 Service Name Some IpTpMain Function Tx Syntax void SomeIpTpMainFunction Tx void Service ID hex 0x03 Description This function performs the processing of the AUTOSAR SOME IP TP modules transmission activities Available via SchMSome IpTph SRSBSW00373 SRSBSW00425 SWS SomeIpTp 00059A call to SomeIpTp MainFunction Tx shall simply return if the AUTOSAR SOMEIP TP module was not previously initialized with a call to SomeIpTp InitSRSBSW00425 852 SomeIpTp MainFunction Rx SWSSomeIpTp00069 Service Name Some IpTpMain Function Rx Syntax void SomeIpTpMainFunction Rx void Service ID hex 0x04 Description This function performs the processing of the AUTOSAR SOME IP TP modules reception activities Available via SchMSome IpTph SRSBSW00373 SRSBSW00425 Specification on SOMEIP Transport Protocol AUTOSAR CP R2011 44 of 59 Document ID 809AUTOSARSWSSOMEIPTransportProtocol SWS SomeIpTp 00070A call to SomeIpTpMainFunction Rx shall simply return if the AUTOSAR SOMEIP TP module was not previously initialized with a call to SomeIpTpInit SRSBSW00425 Specification on SOMEIP Transport Protocol AUTOSAR CP R2011 45 of 59 Document ID 809AUTOSARSWSSOMEIPTransportProtocol 86 Expected Interfaces In this chapter all external interfaces required from other modules are listed 861 Mandatory Interfaces This chapter defines all external interfaces which are required to fulfill the core functionality of the module SWSSomeIpTp00060 API Function Header File Description DetReport Runtime Error Deth Service to report runtime errors If a callout has been configured then this callout shall be called PduRSome Ip TpCopy RxData PduR Some Ip Tph This function is called to provide the received data of an I PDU segment N PDU to the upper layer Each call to this function provides the next part of the I PDU data The size of the remaining buffer is written to the position indicated by buffer SizePtr PduRSome Ip TpCopy TxData PduR Some Ip Tph This function is called to acquire the trans mit data of an I PDU segment N PDU Each call to this function provides the next part of the IPDU data unless retry TpData State is TP DATARETRY In this case the function restarts to copy the data beginning at the offset from the current position in dicated by retry TxTpData Cnt The size of the remaining data is written to the position indicated by available Data Ptr PduRSome Ip TpRxIndication PduR Some Ip Tph Called after an I PDU has been received via the TP API the result indicates whether the transmission was successful or not PduRSome Ip TpStart Of Reception PduR Some Ip Tph This function is called at the start of receiving an N SDU The N SDU might be fragmented into multiple N PDUs FF with one or more following CFs or might consist of a single N PDU SF The service shall provide the currently available maximum buffer size when invoked with Tp SduLength equal to 0 PduRSome Ip TpTransmit PduR Some Ip Tph Requests transmission of a PDU PduRSome Ip TpTx Confirmation PduR Some Ip Tph This function is called after the I PDU has been transmitted on its network the result indicates whether the transmission was successful or not SRSBSW00384 862 Optional Interfaces This chapter defines all external interfaces wh ich are required to fulfill an optional functionality of the module Specification on SOMEIP Transport Protocol AUTOSAR CP R2011 46 of 59 Document ID 809AUTOSARSWSSOMEIPTransportProtocol SWSSom eIpTp00061 API Function Header File Description DetReport Error Deth