data given by the RteSWSSomeIpXf00264 SWSSomeIpXf00265 SWSSomeIpXf00266 13 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 SRSXfrm00002 A transformer shall provide fixed interfacesSWSSomeIpXf00206 SWSSomeIpXf00207 SWSSomeIpXf00208 SWSSomeIpXf00209 SWSSomeIpXf00210 SWSSomeIpXf00211 SWSSomeIpXf00296 SWSSomeIpXf00297 SWSSomeIpXf00298 SWSSomeIpXf00299 SWSSomeIpXf00301 SWSSomeIpXf00302 SWSSomeIpXf00303 SWSSomeIpXf00304 SWSSomeIpXf00305 SWSSomeIpXf91001 SRSXfrm00004 A transformer shall support error handlingSWSSomeIpXf00264 SWSSomeIpXf00265 SWSSomeIpXf00266 SRSXfrm00008 A transformer shall specify its output formatSWSSomeIpXf00001 SWSSomeIpXf00002 SWSSomeIpXf00005 SWSSomeIpXf00006 SWSSomeIpXf00007 SWSSomeIpXf00009 SWSSomeIpXf00010 SWSSomeIpXf00011 SWSSomeIpXf00013 SWSSomeIpXf00015 SWSSomeIpXf00024 SWSSomeIpXf00025 SWSSomeIpXf00026 SWSSomeIpXf00029 SWSSomeIpXf00030 SWSSomeIpXf00031 SWSSomeIpXf00033 SWSSomeIpXf00130 SWSSomeIpXf00131 SWSSomeIpXf00132 SWSSomeIpXf00133 SWSSomeIpXf00134 SWSSomeIpXf00152 SWSSomeIpXf00154 14 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 SWSSomeIpXf00155 SWSSomeIpXf00156 SWSSomeIpXf00160 SWSSomeIpXf00161 SWSSomeIpXf00163 SWSSomeIpXf00164 SWSSomeIpXf00165 SWSSomeIpXf00166 SWSSomeIpXf00168 SWSSomeIpXf00172 SWSSomeIpXf00212 SWSSomeIpXf00213 SWSSomeIpXf00234 SWSSomeIpXf00235 SWSSomeIpXf00236 SWSSomeIpXf00237 SWSSomeIpXf00238 SRSXfrm00101 The SOMEIP Transformer shall define the serialization of atomic and structured data elements into linear arraysSWSSomeIpXf00016 SWSSomeIpXf00017 SWSSomeIpXf00034 SWSSomeIpXf00036 SWSSomeIpXf00037 SWSSomeIpXf00042 SWSSomeIpXf00053 SWSSomeIpXf00054 SWSSomeIpXf00055 SWSSomeIpXf00056 SWSSomeIpXf00057 SWSSomeIpXf00058 SWSSomeIpXf00059 SWSSomeIpXf00060 SWSSomeIpXf00069 SWSSomeIpXf00070 SWSSomeIpXf00072 SWSSomeIpXf00076 SWSSomeIpXf00088 SWSSomeIpXf00098 SWSSomeIpXf00099 SWSSomeIpXf00151 SWSSomeIpXf00169 SWSSomeIpXf00216 15 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 SWSSomeIpXf00217 SWSSomeIpXf00218 SWSSomeIpXf00219 SWSSomeIpXf00220 SWSSomeIpXf00221 SWSSomeIpXf00222 SWSSomeIpXf00223 SWSSomeIpXf00224 SWSSomeIpXf00225 SWSSomeIpXf00226 SWSSomeIpXf00227 SWSSomeIpXf00234 SWSSomeIpXf00235 SWSSomeIpXf00236 SWSSomeIpXf00237 SWSSomeIpXf00238 SWSSomeIpXf00239 SWSSomeIpXf00240 SWSSomeIpXf00241 SWSSomeIpXf00242 SWSSomeIpXf00243 SWSSomeIpXf00244 SWSSomeIpXf00245 SWSSomeIpXf00246 SWSSomeIpXf00247 SWSSomeIpXf00248 SWSSomeIpXf00249 SWSSomeIpXf00250 SWSSomeIpXf00251 SWSSomeIpXf00252 SWSSomeIpXf00253 SWSSomeIpXf00254 SWSSomeIpXf00256 SWSSomeIpXf00257 SWSSomeIpXf00258 SWSSomeIpXf00259 SWSSomeIpXf00260 SWSSomeIpXf00262 SWSSomeIpXf00263 SWSSomeIpXf00306 SWSSomeIpXf00307 SWSSomeIpXfCONSTR0001 SWSSomeIpXfCONSTR0002 16 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 SRSXfrm00102 The SOMEIP Transformer shall define a protocol for interECU Client Server communicationSWSSomeIpXf00106 SWSSomeIpXf00107 SWSSomeIpXf00108 SWSSomeIpXf00111 SWSSomeIpXf00112 SWSSomeIpXf00113 SWSSomeIpXf00115 SWSSomeIpXf00120 SWSSomeIpXf00121 SWSSomeIpXf00170 SWSSomeIpXf00176 SWSSomeIpXf00200 SWSSomeIpXf00201 SWSSomeIpXf00202 SWSSomeIpXf00204 SWSSomeIpXf00205 SRSXfrm00103 The SOMEIP Transformer shall support exception notification of applicationsSWSSomeIpXf00111 SRSXfrm00105 The SOMEIP Transformer shall support autonomous error reactions on the server side for clientserver communicationSWSSomeIpXf00203 SRSXfrm00106 The SOMEIP Transformer shall support serialization of extensible data structs and methodsSWSSomeIpXf00267 SWSSomeIpXf00268 SWSSomeIpXf00269 SWSSomeIpXf00270 SWSSomeIpXf00271 SWSSomeIpXf00272 SWSSomeIpXf00273 SWSSomeIpXf00274 SWSSomeIpXf00275 SWSSomeIpXf00276 SWSSomeIpXf00277 SWSSomeIpXf00278 SWSSomeIpXf00279 SWSSomeIpXf00280 SWSSomeIpXf00281 SWSSomeIpXf00282 SWSSomeIpXf00283 SWSSomeIpXf00284 SWSSomeIpXf00285 SWSSomeIpXf00286 SWSSomeIpXf00287 SWSSomeIpXf00288 SWSSomeIpXf00289 SWSSomeIpXf00290 17 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 SWSSomeIpXf00291 SWSSomeIpXf00292 SWSSomeIpXf00293 SWSSomeIpXf00294 SWSSomeIpXf00295 18 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 7 Functional specification ECU 2 ECU 1 Sending Application SWC RTE Com SOMEIP Serializer Receiving Application SWC RTE Com SOMEIP Deserializer Figure 71 Overview of SOMEIP Transformer When a SWC initiates an interECU communication which is configured to be trans formed the SWC hands the data over to the RTE The RTE executes the configured transformer chain which contains the SOMEIP Transformer A transformer chain may contain also other transformers but this is omitted in this overview for simplicity The SOMEIP Transformer on the sender side serializes the data of the SWC and brings them into an linear form The serialized data are sent via the communication stack over the bus to the receivers The RTE of the receiver executes the transformer chain in the reverse order The SOMEIP transformer of the receiver deserializes the linear data back into the original data structure These are handed over to the receiving SWC From the SWCs point of view it is totally transparent whether data are transformed or not The SOMEIP transformer is a transformer of the class Serializer It serializes struc tured data into a linear form Therefore it can only be used as the first transformer on the sending side and the last transformer on the receiving side in execution order Furthermore it provides the transformer errors specified for this transformer class and supports only outofplace buffer handling 19 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 The SOMEIP Transformer has no module specific EcuC because its whole configu ration is based on the SOMEIPTransformationDescription andSOMEIPTrans formationISignalProps Describable TransformationDescription enumeration ByteOrderEnum Attributes mostSignificantByteFirst mostSignificantByteLast opaqueSOMEIPTransformationDescription alignment PositiveInteger byteOrder ByteOrderEnum interfaceVersion PositiveIntegerDescribable atpVariation TransformationISignalProps csErrorReaction CSTransformerErrorReactionEnum 01 SOMEIPTransformationISignalProps implementsLegacyStringSerialization Boolean 0 1 interfaceVersion PositiveInteger 01 isDynamicLengthFieldSize Boolean 01 messageType SOMEIPMessageTypeEnum 01 sessionHandlingSR SOMEIPTransformerSessionHandli ngEnum 01 sizeOfArrayLengthFields PositiveInteger 01 sizeOfStringLengthFields PositiveInteger 01 sizeOfStructLengthFields PositiveInteger 01 sizeOfUnionLengthFields PositiveInteger 01 enumeration SOMEIPTransformerSessionHandlingEnum sessionHandlingActive sessionHandlingInactiveFibexElement ISignal dataTypePolicy DataTypePolicyEnum iSignalType ISignalTypeEnum 01 length UnlimitedInteger enumeration CSTransformerErrorReactionEnum autonomous applicationOnlyIdentifiable TransformationTechnology hasInternalState Boolean 01 needsOriginalData Boolean 01 protocol String transformerClass TransformerClassEnum version String enumeration SOMEIPMessageTypeEnum Attributes request requestNoReturn notification responsetransformationISignalProps 0transformationDescription 01atpVariationtransformer 1 Figure 72 SOMEIP specific configuration Class SOMEIPTransformationDescription Package M2AUTOSARTemplatesSystemTemplateTransformer Note The SOMEIPTransformationDescription is used to specify SOMEIP transformer specific attributes Base ARObject Describable TransformationDescription Attribute Type Mult Kind Note alignment PositiveInteger 1 attr Defines the padding for alignment purposes that will be added by the SOMEIP transformer after the serialized data of the variable data length data element The alignment shall be specified in Bits byteOrder ByteOrderEnum 1 attr Defines which byte order shall be serialized by the SOMEIP transformer interfaceVersion PositiveInteger 1 attr The interface version the SOMEIP transformer shall use Table 71 SOMEIPTransformationDescription 20 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 Class atpVariation SOMEIPTransformationISignalProps Package M2AUTOSARTemplatesSystemTemplateTransformer Note The class SOMEIPTransformationISignalProps specifies ISignal specific configuration properties for SOMEIP transformer attributes Base ARObject Describable TransformationISignalProps Attribute Type Mult Kind Note implements LegacyString SerializationBoolean 01 attr This attribute indicates that Strings in the SOMEIP message shall NOT be serialized according to the SOME IP specification for Strings If this attribute is set to true BOM and nulltermination shall NOT be added in the serialization for Strings in the payload If this attribute is set to false or not set BOM and nulltermination shall be added in the serialization for Strings in the payload according to the SOMEIP specification for Strings NOTE This attribute is not future safe and will be removed in an upcoming AUTOSAR release interfaceVersion PositiveInteger 01 attr The interface version the SOMEIP transformer shall use isDynamic LengthFieldSizeBoolean 01 attr This attribute shall be used to determine the wire type in the context of using the TLV encoding messageType SOMEIPMessageType Enum01 attr The Message Type which shall be placed into the SOME IP header session HandlingSRSOMEIPTransformer SessionHandlingEnum01 attr Defines whether the SOMEIP transformer shall use session handling for SenderReceiver communication sizeOfArray LengthFieldsPositiveInteger 01 attr The size of all length fields in Bytes of fixedsize arrays or dynamic size arrays in the SOMEIP message This attribute is valid for all available occurrences of fixedsize arrays or dynamic size