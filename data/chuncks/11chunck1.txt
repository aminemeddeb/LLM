an existing infrastructuretechnology is the goal to have a tech nology that Fulfills the hard requirements regarding resource consumption in an embedded world Is compatible through as many usecases and communication partners as possi ble Provides the features required by automotive usecases Is scalable from tiny to large platforms Can be implemented on different operating system ie AUTOSAR GENIVI and OSEK and even embedded devices without operating system 7 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 2 Acronyms and Abbreviations The glossary below includes acronyms and abbreviations relevant to the SOMEIP Transformer that are not included in the 1 AUTOSAR glossary Abbreviation Acronym Description ClientServiceInstanceEntryThe configuration and required data of a service instance another ECU offers shall be called ClientServiceInstanceEntry at the ECU using this service Client Fielda field represents a status and thus has a valid value at all times on which getter setter and notfier act upon Finding a service instanceto send a SOMEIPSD message in order to find a needed ser vice instance Getter a RequestResponse call that allows read access to a field Methoda method procedure function or subroutine that is calledin voked Notifiersends out event message with a new value on change of the value of the field Request a message of the client to the server invoking a method Responsea message of the server to the client transporting results of a method invocation SD Service Discovery see2 Servicea logical combination of zero or more methods zero or more events and zero or more fields empty service is allowed eg for announcing nonSOMEIP services in SOMEIPSD Service Instancesoftware implementation of the service interface which can exist more than once in the vehicle and more than once on an ECU Service Interfacethe formal specification of the service including its methods events and fields Setter a RequestResponse call that allows write access to a field SOMEIPScalable serviceOriented MiddlewarE over IP 8 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 3 Related documentation 31 Input documents References 1 Glossary AUTOSARTRGlossary 2 Specification of Service Discovery AUTOSARSWSServiceDiscovery 3 General Specification of Transformers AUTOSARASWSTransformerGeneral 4 Specification of Socket Adaptor AUTOSARSWSSocketAdaptor 5 Specification of RTE Software AUTOSARSWSRTE 6 Requirements on AUTOSAR Features AUTOSARRSFeatures 7 System Template AUTOSARTPSSystemTemplate 8 Specification of Platform Types AUTOSARSWSPlatformTypes 9 Software Component Template AUTOSARTPSSoftwareComponentTemplate 10 Requirements on Transformer AUTOSARSRSTransformer 11 UTF8 a transformation format of ISO 10646 httpwwwietforgrfcrfc3629txt 12 UTF16 an encoding of ISO 10646 httpwwwietforgrfcrfc2781txt 13 SOMEIP Protocol Specification AUTOSARPRSSOMEIPProtocol 14 General Specification of Basic Software Modules AUTOSARSWSBSWGeneral 15 General Requirements on Basic Software Modules AUTOSARSRSBSWGeneral 9 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 32 Related standards and norms Not applicable 33 Related specification AUTOSAR provides a General Specification on Transformers 3 ASWS Transformer General which is also valid for SOMEIP Transformer Thus the specification SWS Transformer General shall be considered as additional and required specification for SOMEIP Transformer 10 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 4 Constraints and assumptions 41 Limitations For the SOMEIP Transformer all general transformer limitations see 3 ASWS Trans former General apply The SOMEIP transformer doesnt implement the whole SOMEIP protocol a part is implemented by 2 SWS Service Discovery a part is implemented by 4 SWS Socket Adaptor a part is currently not implemented in AUTOSAR This is documented in Ap pendix B The processing order of header fields in AUTOSAR CP deviates from the pro cessing order defined in PRSSOMEIP00195 also Figure 421 Message Val idation and Error Handling in SOMEIP This deviation is caused by the layered architecture of AUTOSAR CP SWSSomeIpXfCONSTR0001 dIn accordance with SWSSomeIpXf00245 28sizeofdata type of length field shall be larger than the number of elements given by the size indicator multiplied by the size in bytes of each element ie 1 for UTF8 and 2 for UTF16 and increased by the size in bytes required by the BOM cSRS Xfrm00101 SWSSomeIpXfCONSTR0002 dSerialization based on the network representa tion according to TPSSYST02136 is currently not supported in combination with structured datatypes and arguments with identifier and optional members strings dy namic length arrays variable size arrays and unions variants and shall therefore not be used in those combinations cSRSXfrm00101 Note Optional members according to section 7243 Strings according to section 72441 and 72442 Dynamic Length Arrays Variable Size Arrays according to section 7247 and Unions Variants according to section 7249 42 Applicability to car domains The SOMEIP Transformer can be used for all domain applications when SOMEIP SenderReceiver or ClientServer communication is used 11 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 5 Dependencies to other modules The AUTOSAR RTE 5 SWS RTE has to exist to execute the transformer 51 File structure 511 Code file structure The source code file structure is defined in the 3 ASWS Transformer General 512 Header file structure SWSSomeIpXf00136 dThe header file SomeIpXfIeh shall be the main include file for the SOMEIP transformer and include TransformerTypesh and its Module Interlink Header file SchMbsnpviaih where Ie is the optional implementation specific file name extension according SWS BSW00103 bsnp is the BSW Scheduler Name Prefix according SWSRte07593 and SWS Rte07594 vi is the vendorId of the BSW module and ai is the vendorApiInfix of the BSW module cSRSBSW00346 The file TransformerTypesh contains the general transformer data types 12 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 6 Requirements Tracing The following table references the features specified in 6 and links to the fulfillments of these Feature Description Satisfied by SRSBSW00159 All modules of the AUTOSAR Basic Software shall support a tool based configurationSWSSomeIpXf00185 SRSBSW00337 Classification of development errorsSWSSomeIPxf00184 SRSBSW00346 All AUTOSAR Basic Software Modules shall provide at least a basic set of module filesSWSSomeIpXf00136 SRSBSW00404 BSW Modules shall support postbuild configurationSWSSomeIpXf00183 SRSBSW00407 Each BSW module shall provide a function to read out the version information of a dedicated module implementationSWSSomeIpXf00180 SWSSomeIpXf00181 SWSSomeIpXf00182 SRSBSW00411 All AUTOSAR Basic Software Modules shall apply a naming rule for enabling disabling the existence of the APISWSSomeIpXf00180 SWSSomeIpXf00181 SWSSomeIpXf00182 SRSBSW00441 Naming convention for type macro and functionSWSSomeIpXf00183 SRSXfrm00001 A transformer shall work on