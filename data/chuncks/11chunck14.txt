com munication in combination with UDP as transport protocol Figure 713 shows the state machines for maybe reliability The clients SOMEIP implementation has to wait for the response for a specified timeout If the timeout occurs SOMEIP shall signal SOMEIPXFETIMEOUT to the client application Client Server WaitingForResponse processingError SOMEIPXFETIMEOUT Send ResponseResponse Timeout Send Request Response Received Request Received Figure 713 State Machines for Reliability Maybe For exactly once reliability the TCP binding may be used since TCP was defined to allow for reliable communication Additional mechanisms to reach higher reliability may be implemented in the applica tion or in a SOMEIP implementation Keep in mind that the communication does not have to implement these features Chapter 73421 describes such optional reliability mechanisms 60 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 73421 Application based Error Handling The application can easily implement at least once reliability by using idempotent operations ie operation that can be executed multiple times without side effects and using a simple timeout mechanism Figure 714 shows the state machines for at least once reliability using implicit acknowledgements When the client sends out the request it starts a timer with the timeout specified for the specific method If no response is received before the timer expires round transition at the top the client will retry the operation A Typical number of retries would be 2 so that 3 requests are sent The number of retries the timeout values and the timeout behavior constant or expo nential back off are outside of the SOMEIP specification Client Server WaitingForResponse processingError SOMEIPXFETIMEOUT No Response Received TimeoutCounter TimeoutCounter n No Response received Send ResponseResponse Received Request ReceivedSend Request set TimeoutCounter 0 Figure 714 State Machines for Reliability At least once idempotent operations 74 Reserved and special identifiers for SOMEIP and SOMEIP SD In this chapter an overview of reserved and special identifiers are shown SWSSomeIpXf00130 dReserved and special ServiceIDs are defined in Table 712cSRSXfrm00008 ServiceID Description 0x0000 Reserved 61 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 0xFF00 0xFF1F Reserved for Testing at OEM 0xFF20 0xFF3F Reserved for Testing at Tier1 0xFF40 0xFF5F 0xFF5F Reserved for ECU Internal Communication Tier1 proprietary 0xFFFE Reserved for announcing nonSOMEIP service instances 0xFFFF SOMEIP and SOMEIPSD special service Table 712 Reserved and special ServiceIDs SWSSomeIpXf00131 dReserved and special InstanceIDs are defined in Table 713cSRSXfrm00008 InstanceID Description 0x0000 Reserved 0xFFFF All Instances Table 713 Reserved and special InstanceIDs SWSSomeIpXf00132 dReserved and special MethodIDsEventIDs are defined in Table 714cSRSXfrm00008 MethodID Description 0x0000 Reserved 0x7FFF Reserved 0x8000 Reserved 0xFFFF Reserved Table 714 Reserved and special MethodIDsEventIDs SWSSomeIpXf00133 dMethodIDs and EventIDs of Service 0xFFFF are defined in Table 715cSRSXfrm00008 MethodIDEvent IDDescription 0x0000 SOMEIP Magic Cookie Messages 0x8000 SOMEIP Magic Cookie Messages 0x8100 SOMEIPSD messages events Table 715 MethodIDs and EventIDs of Service 0xFFFF SWSSomeIpXf00134 dBesides otherserv other names are supported by the con figuration option Table 716 gives an overview of the reserved names cSRSXfrm 00008 Name Description hostname Used to name a host or ECU instancename Used to name an instance of a service servicename Used to name a service 62 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 otherserv Used for nonSOMEIP Services Table 716 Reserved names of configuration options 75 Error Classification Section 75 Error Handling of the document General Specification of Basic Software Modules describes the error handling of the Basic Software in detail Above all it constitutes a classification scheme consisting of five error types which may occur in 14 SWS BSW General modules Based on this foundation the following section specifies particular errors arranged in the respective subsections below 751 Development Errors SWSSomeIPxf00184 d Type of error Related error code Error value Error code if any other API service except Get VersionInfo is called before the transformer module was initialized with Init or after a call to De InitSOMEIPXFEUNINIT 0x01 Error code if an invalid configuration set was selectedSOMEIPXFEINITFAILED 0x02 API service called with wrong parameter SOMEIPXFEPARAM 0x03 API service called with invalid pointer SOMEIPXFEPARAMPOINTER 0x04 cSRSBSW00337 752 Runtime Errors There are no runtime errors 753 Transient Faults There are no transient faults 754 Production Errors There are no production errors 63 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 755 Extended Production Errors All Extended Production Errors valid for SOMEIP Transformer are specified in 3 ASWS Transformer General 64 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 8 API specification 81 Imported types There are no imported types from other modules beyond those specified in 3 ASWS Transformer General In the Module Interlink Headers file which is imported by the SOMEIP Transformer all ImplementationDataType s known to the RTE are included Using this mechanism the SOMEIP Transformer knows all data types of data which shall be transformed 82 Type definitions SWSSomeIpXf00183 d Name SomeIpXfConfigType Kind Structure implementation specific Type Elements Comment Description This is the type of the data structure containing the initialization data for the transformer Available via SomeIpXfh cSRSBSW00404 SRSBSW00441 83 Function definitions The SOMEIP transformer provides the specific interfaces generally required by 3 ASWS Transformer General SWSSomeIpXf00150 dThe SOMEIP Transformer shall only provide functions for transformers where the TransformationTechnology is referenced as the first ref erence in the list of ordered references transformer from a DataTransformation to aTransformationTechnology c That means only the first transformer in a transformer chain can be a SOMEIP Trans former because serializer transformer are in general only allowed to be the first trans former in a chain 831 SomeIpXfExtractProtocolHeaderFields SWSSomeIpXf91001 d 65 of 107 Document ID 660 AUTOSARSWSSOMEIPTransformerSpecification of SOMEIP Transformer AUTOSAR CP R2111 Service Name SomeIpXfExtractProtocolHeaderFields SyntaxStdReturnType SomeIpXfExtractProtocolHeaderFields const uint8 buffer uint32 bufferLength StdMessageTypeType messageType StdMessageResultType messageResult Service ID hex 0x05 SyncAsync Synchronous Reentrancy Reentrant buffer Buffer allocated by the RTE where the transformed data has to be stored by the transformerParameters in bufferLength Length of the buffer Parameters inout None messageType Canonical representation of the message type extracted from the transformers protocol headerParameters out messageResult Canonical representation of the message result type extracted from the transformers protocol header Return value StdReturnType EOK Relevant protocol header fields have