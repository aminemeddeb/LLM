20 21 22 void onmessagevsomeipmessage response 23 processresponseresponse 24 requested followed by the startinvocation When the service discovery module detects5a running instance of the requested service the onavailability function is executed which in this case simply sends a request to the server as before if a response is received it is delivered directly to the onmessage method It is worth noting that except for very simple examples like the ones presented here the exploitation of background threads is mandatory being the startmethod blocking it is not possible to perform further operation once it is executed moreover longlasting computations cannot occur